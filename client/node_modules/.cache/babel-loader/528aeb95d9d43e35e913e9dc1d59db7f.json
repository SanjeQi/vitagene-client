{"ast":null,"code":"module.exports =\n/******/\nfunction (modules) {\n  // webpackBootstrap\n\n  /******/\n  // The module cache\n\n  /******/\n  var installedModules = {};\n  /******/\n\n  /******/\n  // The require function\n\n  /******/\n\n  function __webpack_require__(moduleId) {\n    /******/\n\n    /******/\n    // Check if module is in cache\n\n    /******/\n    if (installedModules[moduleId]) {\n      /******/\n      return installedModules[moduleId].exports;\n      /******/\n    }\n    /******/\n    // Create a new module (and put it into the cache)\n\n    /******/\n\n\n    var module = installedModules[moduleId] = {\n      /******/\n      i: moduleId,\n\n      /******/\n      l: false,\n\n      /******/\n      exports: {}\n      /******/\n\n    };\n    /******/\n\n    /******/\n    // Execute the module function\n\n    /******/\n\n    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n    /******/\n\n    /******/\n    // Flag the module as loaded\n\n    /******/\n\n    module.l = true;\n    /******/\n\n    /******/\n    // Return the exports of the module\n\n    /******/\n\n    return module.exports;\n    /******/\n  }\n  /******/\n\n  /******/\n\n  /******/\n  // expose the modules object (__webpack_modules__)\n\n  /******/\n\n\n  __webpack_require__.m = modules;\n  /******/\n\n  /******/\n  // expose the module cache\n\n  /******/\n\n  __webpack_require__.c = installedModules;\n  /******/\n\n  /******/\n  // define getter function for harmony exports\n\n  /******/\n\n  __webpack_require__.d = function (exports, name, getter) {\n    /******/\n    if (!__webpack_require__.o(exports, name)) {\n      /******/\n      Object.defineProperty(exports, name, {\n        /******/\n        configurable: false,\n\n        /******/\n        enumerable: true,\n\n        /******/\n        get: getter\n        /******/\n\n      });\n      /******/\n    }\n    /******/\n\n  };\n  /******/\n\n  /******/\n  // getDefaultExport function for compatibility with non-harmony modules\n\n  /******/\n\n\n  __webpack_require__.n = function (module) {\n    /******/\n    var getter = module && module.__esModule ?\n    /******/\n    function getDefault() {\n      return module['default'];\n    } :\n    /******/\n    function getModuleExports() {\n      return module;\n    };\n    /******/\n\n    __webpack_require__.d(getter, 'a', getter);\n    /******/\n\n\n    return getter;\n    /******/\n  };\n  /******/\n\n  /******/\n  // Object.prototype.hasOwnProperty.call\n\n  /******/\n\n\n  __webpack_require__.o = function (object, property) {\n    return Object.prototype.hasOwnProperty.call(object, property);\n  };\n  /******/\n\n  /******/\n  // __webpack_public_path__\n\n  /******/\n\n\n  __webpack_require__.p = \"\";\n  /******/\n\n  /******/\n  // Load entry module and return exports\n\n  /******/\n\n  return __webpack_require__(__webpack_require__.s = 0);\n  /******/\n}(\n/************************************************************************/\n\n/******/\n[\n/* 0 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var _react = __webpack_require__(1);\n\n  var _react2 = _interopRequireDefault(_react);\n\n  var _propTypes = __webpack_require__(2);\n\n  var _propTypes2 = _interopRequireDefault(_propTypes);\n\n  var _reactMeasure = __webpack_require__(3);\n\n  var _reactMeasure2 = _interopRequireDefault(_reactMeasure);\n\n  var _d3Cloud = __webpack_require__(4);\n\n  var _d3Cloud2 = _interopRequireDefault(_d3Cloud);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _objectWithoutProperties(obj, keys) {\n    var target = {};\n\n    for (var i in obj) {\n      if (keys.indexOf(i) >= 0) continue;\n      if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n      target[i] = obj[i];\n    }\n\n    return target;\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  var TagCloud = function (_Component) {\n    _inherits(TagCloud, _Component);\n\n    function TagCloud(props) {\n      _classCallCheck(this, TagCloud);\n\n      var _this = _possibleConstructorReturn(this, (TagCloud.__proto__ || Object.getPrototypeOf(TagCloud)).call(this, props));\n\n      _this._width = 0;\n      _this._height = 0;\n      _this.state = {\n        wrappedChildren: []\n      };\n      _this.text = _this.text.bind(_this);\n      _this.fontFamily = _this.getStyleValue.bind(_this, 'fontFamily');\n      _this.fontSize = _this.getStyleValue.bind(_this, 'fontSize');\n      _this.fontWeight = _this.getStyleValue.bind(_this, 'fontWeight');\n      _this.fontStyle = _this.getStyleValue.bind(_this, 'fontStyle');\n      _this.padding = _this.getStyleValue.bind(_this, 'padding');\n      _this.rotate = _this.rotate.bind(_this);\n      _this.onResize = _this.onResize.bind(_this);\n      return _this;\n    }\n\n    _createClass(TagCloud, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        this._mounted = true;\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        if (this._resizeTimer) {\n          clearTimeout(this._resizeTimer);\n          this._resizeTimer = undefined;\n        }\n\n        this._mounted = false;\n      }\n    }, {\n      key: 'componentWillReceiveProps',\n      value: function componentWillReceiveProps(nextProps) {\n        this.updateLayout(nextProps, true);\n      }\n    }, {\n      key: 'updateLayout',\n      value: function updateLayout(props) {\n        var _this2 = this;\n\n        var width = this._width;\n        var height = this._height;\n\n        if (!width || !height) {\n          return;\n        }\n\n        this.calculateLayout(props).then(function (children) {\n          if (!_this2._mounted) return;\n\n          _this2.setState({\n            wrappedChildren: children\n          });\n        });\n      }\n    }, {\n      key: 'calculateLayout',\n      value: function calculateLayout(props) {\n        var _this3 = this;\n\n        var children = props.children,\n            spiral = props.spiral,\n            random = props.random;\n        var width = this._width;\n        var height = this._height;\n        return new Promise(function (resolve) {\n          (0, _d3Cloud2.default)().size([width, height]).words(_react2.default.Children.map(children, function (child) {\n            return {\n              child: child\n            };\n          })).text(_this3.text).font(_this3.fontFamily).fontStyle(_this3.fontStyle).fontWeight(_this3.fontWeight).fontSize(_this3.fontSize).rotate(_this3.rotate).spiral(spiral).padding(_this3.padding).random(random).on('end', function (items) {\n            var newChildren = items.map(function (item, index) {\n              var x = item.x;\n              x += item.x0;\n              x += width / 2;\n              var y = item.y;\n              y += item.y0;\n              y += height / 2;\n              var transform = 'translate(' + x + 'px,' + y + 'px) rotate(' + item.rotate + 'deg)';\n\n              var style = _extends({\n                position: 'absolute'\n              }, item.child.props.style, {\n                fontFamily: item.font,\n                fontSize: item.size,\n                fontWeight: item.weight,\n                fontStyle: item.style,\n                width: item.width,\n                textAlign: 'center',\n                whiteSpace: 'nowrap',\n                transformOrigin: 'center bottom',\n                WebkitTransform: transform,\n                MozTransform: transform,\n                MsTransform: transform,\n                OTransform: transform,\n                transform: transform\n              });\n\n              if (!style.color && _this3.props.style.color && typeof _this3.props.style.color === 'function') {\n                style.color = _this3.props.style.color(item.child, index);\n              }\n\n              return _react2.default.cloneElement(item.child, _extends({}, item.child.props, {\n                key: item.text,\n                style: style\n              }), item.child.props.children);\n            });\n            resolve(newChildren);\n          }).start();\n        });\n      }\n    }, {\n      key: 'getStyleValue',\n      value: function getStyleValue(propName, word) {\n        var childValue = word.child.props.style ? word.child.props.style[propName] : undefined;\n        var value = childValue || this.props.style[propName] || TagCloud.defaultProps.style[propName];\n\n        if (typeof value === 'function') {\n          value = value(word.child.props);\n        }\n\n        if (propName === 'fontSize') value += 2;\n        return value;\n      }\n    }, {\n      key: 'rotate',\n      value: function rotate(word) {\n        var value = word.child.props.rotate || this.props.rotate || TagCloud.defaultProps.rotate;\n\n        if (typeof value === 'function') {\n          return value(word.child.props);\n        } else {\n          return value;\n        }\n      }\n    }, {\n      key: 'text',\n      value: function text(word) {\n        var text = word.child.props.text;\n\n        if (!text) {\n          var children = word.child.props.children;\n\n          if (Array.isArray(children)) {\n            text = children[0];\n          } else {\n            text = children;\n          }\n        }\n\n        return text;\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var _props = this.props,\n            children = _props.children,\n            style = _props.style,\n            rotate = _props.rotate,\n            spiral = _props.spiral,\n            random = _props.random,\n            props = _objectWithoutProperties(_props, ['children', 'style', 'rotate', 'spiral', 'random']);\n\n        var fontFamily = style.fontFamily,\n            fontSize = style.fontSize,\n            fontWeight = style.fontWeight,\n            fontStyle = style.fontStyle,\n            padding = style.padding,\n            otherStyle = _objectWithoutProperties(style, ['fontFamily', 'fontSize', 'fontWeight', 'fontStyle', 'padding']);\n\n        var wrappedChildren = this.state.wrappedChildren;\n        return _react2.default.createElement(_reactMeasure2.default, {\n          bounds: true,\n          onResize: this.onResize\n        }, function (_ref) {\n          var measureRef = _ref.measureRef;\n          return _react2.default.createElement('div', _extends({\n            ref: measureRef\n          }, props, {\n            style: otherStyle\n          }), wrappedChildren);\n        });\n      }\n    }, {\n      key: 'onResize',\n      value: function onResize(_ref2) {\n        var _this4 = this;\n\n        var bounds = _ref2.bounds;\n        var width = bounds.width,\n            height = bounds.height;\n\n        if (this._width !== width || this._height !== height) {\n          this._width = width;\n          this._height = height;\n          if (this._resizeTimer) clearTimeout(this._resizeTimer);\n          this._resizeTimer = setTimeout(function () {\n            _this4._resizeTimer = undefined;\n\n            _this4.updateLayout(_this4.props);\n          }, 100);\n        }\n      }\n    }]);\n\n    return TagCloud;\n  }(_react.Component);\n\n  TagCloud.propTypes = {\n    children: _propTypes2.default.any,\n    style: _propTypes2.default.shape({\n      fontFamily: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.string]),\n      fontStyle: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.string]),\n      fontWeight: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.number, _propTypes2.default.string]),\n      fontSize: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.number]),\n      padding: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.number])\n    }),\n    rotate: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.number]),\n    spiral: _propTypes2.default.oneOfType([_propTypes2.default.oneOf(['archimedean', 'rectangular']), _propTypes2.default.func]),\n    random: _propTypes2.default.func\n  };\n  TagCloud.defaultProps = {\n    style: {\n      fontFamily: 'serif',\n      fontStyle: 'normal',\n      fontWeight: 'normal',\n      fontSize: 20,\n      padding: 1\n    },\n    rotate: 0,\n    spiral: 'archimedean',\n    random: Math.random\n  };\n  exports.default = TagCloud;\n  /***/\n},\n/* 1 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"react\");\n  /***/\n},\n/* 2 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"prop-types\");\n  /***/\n},\n/* 3 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"react-measure\");\n  /***/\n},\n/* 4 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"d3-cloud\");\n  /***/\n}]);","map":null,"metadata":{},"sourceType":"script"}